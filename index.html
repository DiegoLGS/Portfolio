<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="styles.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.2.0/css/all.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital@0;1&display=swap" rel="stylesheet">
        <link rel="icon" href="favicon.ico" type="image/x-icon">
        <title>Diego Leonardo Gloria Salas</title>
    </head>
    <body>    
        <header>
            <button class="menu-btn">☰</button>
            <nav>
                <ul>
                    <li><a href="#inicio">Inicio</a></li>
                    <li><a href="#proyectos">Proyectos</a></li>
                    <li><a href="#contacto">Contacto</a></li>             
                </ul>
            </nav>
        </header>
        <section id="inicio">
            <h1>¡Hola! Soy Diego</h1>
            <img src="images/code_city_mini.png" id="foto" alt="Ilustración generada por inteligencia artificial: persona sentada con una portátil con una ciudad de fondo">
            <p id="descripcion-inicio">Redescubrí mi entusiasmo por el código y la tecnología, lo que me inspira a mejorar y desafiarme para lograr mis objetivos.</p>
        </section>
        <section id="proyectos">
            <h2>Mis proyectos</h2>
            <div class="container" id="proyectos-container"></div>                    
                
            <h2>Actualmente estudiando:</h2>
            <div class="container-tecnologias" id="estudios-container"></div>

        </section>

        <section id="contacto">
            <h2>Contactame a través de:</h2>
            <article class="contacto-links">
                <a target="_blank" class="contacto-icono" href="https://github.com/DiegoLGS/"><i class="fa-brands fa-github"></i>Github</a>                        
                <a target="_blank" class="contacto-icono" href="https://www.linkedin.com/in/diego-leonardo-gloria-salas-43b56323a/"><i class="fa-brands fa-linkedin"></i>Linkedin</a>
                <a class="contacto-icono" id="email" data-email="dlgloriasalas@gmail.com" title="Copiar email"><i class="fa-solid fa-envelope"></i></i>Email</a>
            </article>

            <p>Estoy abierto a nuevas oportunidades y colaboraciones. ¡Gracias por visitar mi portfolio!</p>
        </section>   

        <script src="proyectos.js"></script>
        <script src="estudio.js"></script>
        <script>
            desplegarProyectos();
            desplegarEstudiosActuales();

            document.addEventListener("DOMContentLoaded", function() {
                const iconoEmail = document.getElementById("email");
                const direccionEmail = iconoEmail.getAttribute("data-email");
                let contadorClicks = 0;

                iconoEmail.addEventListener("click", function () {
                    contadorClicks++;
                    
                    navigator.clipboard.writeText(direccionEmail)
                        .then(() => {
                            iconoEmail.title = "¡Email copiado!";
                            const mensajeCopiado = document.createElement("div");
                            mensajeCopiado.classList.add("notificacion");
                            mensajeCopiado.textContent = "Email copiado al portapapeles";
                            document.body.appendChild(mensajeCopiado);
                            
                            if(contadorClicks == 6) {
                                const gifStopIt = document.createElement("img");
                                gifStopIt.classList.add("stop-it");
                                gifStopIt.src = "https://media.tenor.com/mZZoOtDcouoAAAAM/stop-it-get-some-help.gif";
                                document.body.appendChild(gifStopIt);
                                
                                setTimeout(function() {
                                    document.body.removeChild(gifStopIt);
                                }, 2500);
                            };
                        
                            setTimeout(function() {
                                document.body.removeChild(mensajeCopiado);
                                contadorClicks --;
                            }, 2000);
                        })
                        .catch(err => console.error("Error al copiar el email: ", err));
                });      
                
                const menuBtn = document.querySelector('.menu-btn');
                const nav = document.querySelector('nav');

                menuBtn.addEventListener('click', () => {
                    nav.classList.toggle('active');
                    nav.classList.remove('hidden');
                });

                addEventListener("resize", () => {
                    if(window.innerWidth <= 768) {
                        nav.classList.add('hidden');
                    }
                });

            });
        </script>
    </body>
</html>